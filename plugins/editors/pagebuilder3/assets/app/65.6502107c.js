webpackJsonppagefly([65],{676:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return A}),n.d(t,"LinkPickerStyled",function(){return O});var i,a,l=n(361),o=n.n(l),s=n(28),d=n.n(s),r=n(141),c=n.n(r),m=n(349),g=n.n(m),y=n(350),p=n.n(y),u=n(351),h=n.n(u),f=n(354),k=n.n(f),b=n(352),v=n.n(b),E=n(13),w=n.n(E),B=n(358),x=n(0),_=n.n(x),I=n(365),T=n(371),N=n(369),L=n(368),R=n(356),S=n(367),j=n(377),W=o()(["\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n\tbackground: white;\n\n\t& iframe {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: 0px;\n\t}\n"],["\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n\tbackground: white;\n\n\t& iframe {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: 0px;\n\t}\n"]),P=o()(["\n\twidth: 100%;\n\theight: 100%;\n\n\t& > div {\n\t\tbox-shadow: ",";\n\t}\n\t& aside {\n\t\tborder-right: none;\n\t\tpadding: 10px 0;\n\t\tbackground-color: ",";\n\t\tflex: 0 0 auto;\n\t\th4 {\n\t\t\tcolor: ",";\n\t\t}\n\t\tli:hover,\n\t\tli[data-selected='true'] {\n\t\t\tbackground: "," !important;\n\t\t}\n\t}\n"],["\n\twidth: 100%;\n\theight: 100%;\n\n\t& > div {\n\t\tbox-shadow: ",";\n\t}\n\t& aside {\n\t\tborder-right: none;\n\t\tpadding: 10px 0;\n\t\tbackground-color: ",";\n\t\tflex: 0 0 auto;\n\t\th4 {\n\t\t\tcolor: ",";\n\t\t}\n\t\tli:hover,\n\t\tli[data-selected='true'] {\n\t\t\tbackground: "," !important;\n\t\t}\n\t}\n"]),F=o()(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 20px;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: white;\n"],["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 20px;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: white;\n"]),M=Object(S.a)(Object(j.a)([{key:"menu",label:"Menus"},{key:"category",label:"Categories"},{key:"article",label:"Articles"}])).extend({parse:function(e){return w.a.map(e,function(e){switch(e.key){case"menu":e.url="index.php?option=com_menus&view=items&layout=modal&tmpl=component",e.ref="menu",e.selected=!0;break;case"category":e.url="index.php?option=com_categories&view=categories&layout=modal&tmpl=component",e.ref="cate",e.selected=!1;break;case"article":e.url="index.php?option=com_content&view=articles&layout=modal&tmpl=component",e.ref="article",e.selected=!1;break;case"k2":e.url="index.php?option=com_k2&view=items&context=modalselector&tmpl=component",e.ref="k2",e.selected=!1;break;case"easyblog":e.url="index.php?option=com_easyblog&view=blogs&tmpl=component&browse=1&browsefunction=insertBlog",e.ref="easyblog",e.selected=!1}}),e},get url(){return"index.php?pb3ajax=1&task=getAvailableSupportedComponent"}}),A=(a=i=function(e){function t(){var e;g()(this,t);for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=h()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(i)));return l.items=new M,l.items.fetch(),l}return v()(t,e),p()(t,[{key:"componentWillMount",value:function(){this.setState(this.props)}},{key:"addLink",value:function(e){var t=this;this.setState({link:e+"&pb-slug=1"},function(){t.trigger("change",t.state.link),t.finish()})}},{key:"componentDidMount",value:function(){this.listenTo(this.__panel,"click:outside",this.finish)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.change||w.a.noop,i=t.finish||w.a.noop;this.setState({linkSelected:t.link},function(){e.invoke("panel.show"),e.on("change",n),e.on("finish",i)})}},{key:"finish",value:function(){this.trigger("finish"),this.__panel.hide()}},{key:"render",value:function(){var e=this;return B.React.createElement(I.default,{hidden:!0,overlay:!0,centered:!0,width:850,height:500,overlayCSS:"\n\t\t\t\t    background: rgba(0,0,0,0.2) !important;\n\t\t\t    ",savePosition:!1,within:window},B.React.createElement("header",null,B.React.createElement("span",null,"Link Picker"),B.React.createElement(R.default,{plain:!0,icon:"circle remove",target:this,action:"finish"})),B.React.createElement(D,null,B.React.createElement(T.default,{style:{width:"100%",height:"100%"}},B.React.createElement("aside",null,B.React.createElement(N.default,{cid:"scrollView",scrollbar:!0},B.React.createElement(L.default,{collection:this.items,selectable:!0,onSelect:function(t){e.items.map(function(e){e.set("selected",!1)}),t.set("selected",!0)}},function(e){return B.React.createElement(L.default.Item,{selected:e.get("selected"),css:C},B.React.createElement("h4",null,e.get("label")))}))),B.React.createElement("main",null,B.React.createElement(O,null,B.React.createElement(L.default,{collection:this.items,selectable:!0,onSelect:function(t){e.items.map(function(e){e.set("selected",!1)}),t.set("selected",!0)},css:z},function(t){return B.React.createElement("iframe",{hidden:!t.get("selected")||void 0,ref:function(n){return e[t.get("ref")]=n},src:t.get("url"),onLoad:function(){var n=e[t.get("ref")].contentDocument;if(n){var i=n.getElementById("system-debug");switch(i&&(i.style.display="none"),t.get("ref")){case"cate":e.cate&&e.cate.contentWindow.parent&&(e.cate.contentWindow.parent.jSelectCategory=function(){e.addLink(arguments.length<=3?void 0:arguments[3])});break;case"article":e.article&&(e.article.contentWindow.jSelectArticle=function(){e.addLink(arguments.length<=4?void 0:arguments[4])});break;case"menu":e.menu&&e.menu.contentWindow&&(e.menu.contentWindow.jSelectMenuItem=function(){e.addLink(arguments.length<=2?void 0:arguments[2])});break;case"k2":n.getElementsByTagName("body")[0].style.padding="20px";var a=n.getElementById("k2ModalHeader");a&&(a.style.display="none");var l=n.getElementById("adminForm");l&&(l.style.marginTop=0);var o=n.getElementById("k2AdminFooter");o&&(o.style.display="none");for(var s=n.getElementById("k2ItemsList")&&n.getElementById("k2ItemsList").getElementsByTagName("tbody")[0]?n.getElementById("k2ItemsList").getElementsByTagName("tbody")[0].getElementsByTagName("tr"):[],d=n.getElementById("k2ItemsList")&&n.getElementById("k2ItemsList").getElementsByTagName("thead")[0]?n.getElementById("k2ItemsList").getElementsByTagName("thead")[0].getElementsByTagName("th"):[],r=0;r<s.length;r++){var c=s[r].getElementsByTagName("td");0!==c.length&&(c[3]&&(c[3].style.display="none"),c[4]&&(c[4].getElementsByTagName("a")[0].style.pointerEvents="none"),c[6]&&(c[6].style.display="none"),c[7]&&(c[7].style.display="none"),c[8]&&(c[8].style.display="none"),c[9]&&(c[9].style.display="none"),c[10]&&(c[10].style.display="none"),c[11]&&(c[11].style.display="none"),c[12]&&(c[12].style.display="none"),c[13]&&(c[13].style.display="none"))}0!==d.length&&(d[3]&&(d[3].style.display="none"),d[3]&&(d[6].style.display="none"),d[3]&&(d[7].style.display="none"),d[3]&&(d[8].style.display="none"),d[3]&&(d[9].style.display="none"),d[3]&&(d[10].style.display="none"),d[3]&&(d[11].style.display="none"),d[3]&&(d[12].style.display="none"),d[3]&&(d[13].style.display="none")),e.k2.contentWindow&&e.k2.contentWindow.parent&&(e.k2.contentWindow.parent.k2ModalSelector=function(){e.addLink("index.php?option=com_k2&view=item&id="+(arguments.length<=0?void 0:arguments[0]))});break;case"easyblog":n.getElementsByTagName("body")[0].style.padding="20px";var m=n.getElementById("toolbar-actions");m&&(m.style.display="none");for(var g=n.getElementById("adminForm")&&n.getElementById("adminForm").getElementsByTagName("tbody")[0]?n.getElementById("adminForm").getElementsByTagName("tbody")[0].getElementsByTagName("tr"):[],y=n.getElementById("adminForm")&&n.getElementById("adminForm").getElementsByTagName("thead")[0]?n.getElementById("adminForm").getElementsByTagName("thead")[0].getElementsByTagName("th"):[],p=0;p<g.length;p++){var u=g[p].getElementsByTagName("td");u[0].style.display="none",u[2].style.display="none"}y[0]&&(y[0].style.display="none"),e.easyblog&&e.easyblog.contentWindow.parent&&(e.easyblog.contentWindow.parent.insertBlog=function(){e.addLink("index.php?option=com_easyblog&view=entry&id="+(arguments.length<=0?void 0:arguments[0]))})}}}})}))))))}}],[{key:"propTypes",get:function(){return d()({},k()(t.__proto__||c()(t),"propTypes",this),{selected:_.a.string,link:_.a.string,loading:_.a.bool})}},{key:"defaultProps",get:function(){return d()({},k()(t.__proto__||c()(t),"defaultProps",this),{selected:"menu",link:"",loading:!0})}}]),t}(B.default),i.APP_POS="dialog",a),O=B.styled.div(W),C="\n\tfont-size: 14px;\n\tline-height: 32px;\n\tpadding: 0 20px;\n\tmin-width: 150px;\n\tborder: none;\n\theight: 32px;\n",z="\n\theight: 100%;\n",D=B.styled.div(P,function(e){return e.theme.panel.shadow},function(e){return e.theme.panel.bg},function(e){return e.theme.general.text},function(e){return e.theme.general.invert});B.styled.div(F)}});