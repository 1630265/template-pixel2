webpackJsonppagefly([9],{553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n.n(a);t.default=[{name:"Joomla",items:[{name:"Readmore",icon:i.a.createElement("svg",{width:"188",height:"118",viewBox:"0 0 188 118"},i.a.createElement("defs",null,i.a.createElement("filter",{x:"-3.9%",y:"-4.5%",width:"107.8%",height:"112.7%",filterUnits:"objectBoundingBox",id:"a"},i.a.createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.a.createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.135699728 0",in:"shadowBlurOuter1"}))),i.a.createElement("g",{fill:"none",fillRule:"evenodd"},i.a.createElement("g",{transform:"translate(4 2)"},i.a.createElement("path",{d:"M0 0h180v110H0z",fill:"#000",filter:"url(#a)"}),i.a.createElement("path",{d:"M0 0h180v110H0z",fill:"#FFF"})),i.a.createElement("text",{fontFamily:"SanFranciscoDisplay-Bold, San Francisco Display",fontSize:"14",fontWeight:"bold",fill:"#919DA9",transform:"translate(17 49)"},i.a.createElement("tspan",{x:"43.124",y:"13"},"Read More")),i.a.createElement("path",{d:"M17 57h35M135 57h35.01",stroke:"#919DA9",strokeWidth:"2",strokeDasharray:"3"}))),data:{type:"Readmore"}},{name:"JModule",icon:i.a.createElement("svg",{width:"188",height:"118",viewBox:"0 0 188 118"},i.a.createElement("defs",null,i.a.createElement("filter",{x:"-3.9%",y:"-4.5%",width:"107.8%",height:"112.7%",filterUnits:"objectBoundingBox",id:"a"},i.a.createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.a.createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.135699728 0",in:"shadowBlurOuter1"}))),i.a.createElement("g",{fill:"none",fillRule:"evenodd"},i.a.createElement("g",{transform:"translate(4 2)"},i.a.createElement("path",{d:"M0 0h180v110H0z",fill:"#000",filter:"url(#a)"}),i.a.createElement("path",{d:"M0 0h180v110H0z",fill:"#FFF"})),i.a.createElement("g",{fill:"#919DA9"},i.a.createElement("text",{fontFamily:"SanFranciscoDisplay-Bold, San Francisco Display",fontSize:"12",fontWeight:"bold",transform:"translate(43 38)"},i.a.createElement("tspan",{x:"48",y:"20"},"JOOMLA")," ",i.a.createElement("tspan",{x:"48",y:"32"},"MODULES")),i.a.createElement("path",{d:"M77.034 65.956c.717-2.788-.03-5.866-2.238-8.048l-.742-.736.742-.73c2.298-2.265 3.01-5.51 2.14-8.388 2.3-.51 4.016-2.54 4.016-4.964 0-2.812-2.31-5.09-5.158-5.09-2.564 0-4.695 1.85-5.092 4.266-2.78-.64-5.825.106-7.998 2.247l-.704.653-.71-.653c-2.167-2.14-5.212-2.888-7.998-2.247C52.894 39.846 50.77 38 48.206 38c-2.853 0-5.158 2.278-5.158 5.09 0 2.425 1.716 4.454 4.015 4.964-.874 2.878-.157 6.123 2.14 8.39l.736.728-.736.736c-2.214 2.182-2.96 5.26-2.238 8.048-2.274.53-3.966 2.552-3.966 4.954 0 2.812 2.31 5.09 5.158 5.09 2.45 0 4.502-1.686 5.03-3.945 2.812.688 5.91-.053 8.108-2.22l.704-.7.704.7C64.9 72.01 68 72.744 70.81 72.056c.53 2.26 2.584 3.945 5.032 3.945C78.69 76 81 73.722 81 70.916c0-2.408-1.692-4.425-3.966-4.96zm-10.41-17.2c1.002-1.008 2.62-1.008 3.624 0 1.004 1.01 1 2.648.005 3.655l-.585.59L66 49.344l.624-.59zm-12.87 0c1-1.008 2.624-1.008 3.622 0l.624.588L54.33 53l-.58-.59c-1-1.006-1-2.644.004-3.655zm3.656 16.49c-1.006 1.006-2.642 1.006-3.654-.004-1.008-1.003-1.008-2.635 0-3.645L54.35 61 58 64.66l-.59.587zM63.003 61L58 56.948 62.943 53v.043l.06-.043.054.043V53L68 56.948 63.003 61zm7.242 4.243c-1.01 1.01-2.65 1.01-3.656.005L66 64.66 69.65 61l.595.6c1.007 1.01 1.007 2.635 0 3.643z"})))),data:{type:"Joomla.Module"}}]}]},755:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return P});var a=n(28),i=n.n(a),o=n(141),r=n.n(o),l=n(349),s=n.n(l),d=n(350),c=n.n(d),u=n(351),p=n.n(u),h=n(354),m=n.n(h),f=n(352),g=n.n(f),v=n(49),y=n.n(v),E=n(7),x=n.n(E),b=n(0),k=n.n(b),w=n(360),_=n(142),O=n(353),M=n(355),z=n(362),D={},C={},S=window.pagefly_data.token,F=!1,B=function(){return new y.a(function(e){F||""!==S&&jQuery.ajax({url:"index.php?pb3ajax=1&task=getModules&"+S+"=1",type:"post",data:{title:""},dataType:"json",complete:function(t,n){if("error"!==n){var a=JSON.parse(t.responseText);_.b.each(a,function(e){_.b.isUndefined(e.id)||(D[e.id]=e)}),_.b.each(D,function(e){(e.id&&e.id!==window.pagefly_data.page_id||"com_modules"!==window.pbUrlQuery.option)&&(C[e.title+" [ID:"+e.id+"]"]=e.id)}),F=!0,e()}}})})},P=function(e){function t(){return s()(this,t),p()(this,(t.__proto__||r()(t)).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){B().then(this.forceUpdate)}},{key:"render",value:function(){var e=this.state.moduleID,t=D[e]?D[e].title:"None";return e&&"view"===this.mode?x.a.createElement("div",null,"{pb3loadmodule "+e+"}"):e&&"-1"!=e?x.a.createElement("div",{className:"pb-module"},x.a.createElement("div",null,x.a.createElement("div",null,x.a.createElement("div",null,"Joomla Module"),x.a.createElement("a",{onMouseDown:function(t){window.open(window.pb_baseUrl+"/administrator/index.php?option=com_modules&task=module.edit&id="+e)}},t),"Â ",x.a.createElement("strong",null,"[ID:",e,"]")))):x.a.createElement("div",{className:"pb-module"},x.a.createElement("strong",null,"No module assigned!"))}},{key:"inspector",get:function(){var e=m()(t.prototype.__proto__||r()(t.prototype),"inspector",this);return i()({},e,{general:i()({},e.general,{content:x.a.createElement(M.default,{name:"Content"},x.a.createElement(O.default,{label:"Pick a Module",vertical:!0},x.a.createElement(z.default,{searchable:!0,placeholder:"--",bind:"state.moduleID",options:C})))}),styling:i()({},e.styling,{text:null})})}}],[{key:"displayName",get:function(){return"JModule"}},{key:"propTypes",get:function(){return i()({},m()(t.__proto__||r()(t),"propTypes",this),{moduleID:k.a.string})}},{key:"defaultProps",get:function(){return i()({},m()(t.__proto__||r()(t),"defaultProps",this),{moduleID:"none"})}}]),t}(w.default);P.css="\n.pb-module {\n\ttext-align: center;\n\tbackground: #ddd;\n}\n\n.pb-module > div > label {\n\tfont-weight: bold;\n\tfont-size: 1.2em;\n}\n\n.pb-module > div {\n\tpadding: 10px;\n}"},799:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Canvas",function(){return T}),n.d(t,"default",function(){return H});var a,i,o=n(382),r=n.n(o),l=n(145),s=n.n(l),d=n(28),c=n.n(d),u=n(141),p=n.n(u),h=n(349),m=n.n(h),f=n(350),g=n.n(f),v=n(351),y=n.n(v),E=n(354),x=n.n(E),b=n(352),k=n.n(b),w=n(361),_=n.n(w),O=n(142),M=n(7),z=n.n(M),D=n(79),C=n.n(D),S=n(439),F=n(143),B=n.n(F),P=n(358),j=(n(356),n(359),n(366),n(365)),A=(n(362),n(371),n(353),n(0)),R=n.n(A),N=(n(357),n(410),n(369)),W=n(386),L=_()(["\n\t& {\n\t\tmargin: 15px;\n\t\tmax-width: calc(100% - 0px);\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\toverflow: unset;\n\t\tborder: 1px dashed rgba(0, 0, 0, 0.1);\n\t\t//box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.15), 0px 0px 1px 1px rgba(0, 0, 0, 0.1);\n\t\tbackground-color: white;\n\t}\n\tiframe {\n\t\tposition: relative;\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tmin-height: 100px;\n\t\tborder: none;\n\t}\n"],["\n\t& {\n\t\tmargin: 15px;\n\t\tmax-width: calc(100% - 0px);\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\toverflow: unset;\n\t\tborder: 1px dashed rgba(0, 0, 0, 0.1);\n\t\t//box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.15), 0px 0px 1px 1px rgba(0, 0, 0, 0.1);\n\t\tbackground-color: white;\n\t}\n\tiframe {\n\t\tposition: relative;\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tmin-height: 100px;\n\t\tborder: none;\n\t}\n"]),T=B.a.div(L),H=(i=a=function(e){function t(){return m()(this,t),y()(this,(t.__proto__||p()(t)).apply(this,arguments))}return k()(t,e),g()(t,[{key:"getChildContext",value:function(){return c()({},x()(t.prototype.__proto__||p()(t.prototype),"getChildContext",this).call(this),{editor:this,page:this.page,zoom:this.zoom,target:this.state.selected})}},{key:"shouldComponentStoreState",value:function(){return!0}},{key:"componentWillMount",value:function(){this.setState(c()({deviceWidth:0,deviceHeight:0,zoom:1,page:null},this.props))}},{key:"componentWillStoreState",value:function(){return O.b.pick(this.state,"maximized")}},{key:"componentDidMount",value:function(){var e=this;this.listenTo(this.app,"resize",this.handleResize),this.frame.addEventListener("load",function(){e.rootElement=e.frame.contentWindow.root,e.app.props.onReady&&e.app.props.onReady(e);var t=O.b.chain(e.get("props.data.items",{})).values().pluck("type").uniq().value();t&&0!==t.length||(t=["Head","Body","Layout"]),Object(S.b)(["Page"].concat(s()(t))).then(function(t){var n=r()(t,1),a=n[0];C.a.render(z.a.createElement(a,c()({},e.props.data,{editor:e})),e.rootElement)})})}},{key:"handleResize",value:function(){var e=this;if(this.page){var t=this.state.deviceWidth;if(t){var n=this.get("mainEl.offsetWidth",0)-2*this.padding,a=Math.min(n/t*100/100,1),i=t,o=Math.max(Math.min(n*a,n),t);this.setState({zoom:a},function(){Object(O.a)(e.canvas).css({width:o+"px !important"}),Object(O.a)(e.frame).css({transform:"scale("+a+")",transformOrigin:"0 0",width:i+"px"}),e.invoke("page.updateFrame"),e.invoke("__panel.getContrains"),e.trigger("change:editor:device")})}else this.setState({zoom:1,deviceHeight:0},function(){Object(O.a)(e.canvas).css({width:"100%"}),Object(O.a)(e.frame).css({transform:"",transformOrigin:"",width:"100%"}),e.invoke("page.updateFrame")})}}},{key:"resetData",value:function(e){var t=this;this.setState({data:e},function(){C.a.unmountComponentAtNode(t.rootElement),t.frame.srcdoc="<!DOCTYPE html><div id='root'></div>"})}},{key:"handleFocus",value:function(){this.__panel.focus(),this.app.setState({page:this.page,editor:this})}},{key:"handleClick",value:function(){this.handleFocus(),this.page&&this.page.deselectAll()}},{key:"handleClickContent",value:function(e){this.handleFocus(),this.page&&e.target.parentNode.parentNode===this.mainEl&&this.page.deselectAll()}},{key:"render",value:function(){var e=this;return z.a.createElement(j.default,{minWidth:200,minHeight:300,maximized:!this.props.float,onResize:this.handleResize,onFocus:this.handleFocus,onClickOutside:this.handleClick,panelCSS:"content { background: white; overflow: hidden; }"},this.props.float?z.a.createElement("header",null,z.a.createElement("span",null,"Editor")):null,z.a.createElement("content",{ref:function(t){return e.mainEl=t},onClick:this.handleClickContent},z.a.createElement(N.default,{padding:this.padding+"px",onStart:function(t){e.trigger("scroll:start"),e.invoke("app.trigger","scroll:start"),e.page&&e.invoke("page.trigger","scroll:start")},onScroll:function(t){e.trigger("scroll"),e.invoke("app.trigger","scroll"),e.page&&e.invoke("page.trigger","scroll")},onEnd:function(t){e.trigger("scroll:end"),e.invoke("app.trigger","scroll:end"),e.page&&e.invoke("page.trigger","scroll:end")},ref:function(t){return e.scrollView=t}},z.a.createElement(T,{innerRef:function(t){return e.canvas=t},style:{width:this.state.deviceWidth||"auto",margin:"auto"}},z.a.createElement("iframe",{ref:function(t){return e.frame=t},name:"PageBuilder2 Preview Sandbox",srcDoc:"<!DOCTYPE html><div id='root'></div>"}),z.a.createElement(W.default,{cid:"overlay",path:"editor/overlay"}),z.a.createElement(W.default,{cid:"selection",path:"editor/selection"}),z.a.createElement(W.default,{cid:"placeholder",path:"editor/placeholder"})))),z.a.createElement(W.default,{path:"path"}))}},{key:"page",get:function(){return this.state.page}},{key:"padding",get:function(){return this.constructor.PADDING/(this.props.float?2:1)}},{key:"zoom",get:function(){return this.state.zoom}}]),t}(P.default),a.PADDING=17,a.APP_POS="content",a.childContextTypes=c()({},P.default.childContextTypes,{zoom:R.a.number}),i)}});