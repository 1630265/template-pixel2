webpackJsonppagefly([24],{754:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return C});var a=n(28),i=n.n(a),r=n(141),s=n.n(r),l=n(349),o=n.n(l),d=n(350),u=n.n(d),c=n(351),m=n.n(c),p=n(354),h=n.n(p),f=n(352),g=n.n(f),w=n(7),v=n.n(w),y=n(0),k=n.n(y),b=n(142),E=n(360),_=n(374),x=n(353),N=n(355),T=n(357),D=n(366),M=new CustomEvent("update-instagram"),C=function(t){function e(){return o()(this,e),m()(this,(e.__proto__||s()(e)).apply(this,arguments))}return g()(e,t),u()(e,[{key:"componentDidUpdate",value:function(t,e){(this.state.token!==e.token||this.state.limit>e.limit)&&b.b.defer(function(){window.dispatchEvent(M)})}},{key:"componentDidMount",value:function(){window.dispatchEvent(M)}},{key:"renderChild",value:function(){for(var t=[],e=0;e<this.state.limit;e++)t.push(v.a.createElement("div",{className:"grid__column",key:e,style:{padding:parseInt(this.state.gutter)/2,pointerEvents:"edit"===this.mode?"none":void 0}},v.a.createElement("a",{href:"",target:"_blank"},v.a.createElement("img",{src:""}))));return t}},{key:"render",value:function(){return v.a.createElement("div",{className:this.className,"data-token":this.state.token||void 0,"data-limit":this.state.limit||void 0},this.state.token?this.renderChild():v.a.createElement("h3",null,"Please fill out Access token key in the setting!"))}},{key:"inspector",get:function(){var t=this,n=h()(e.prototype.__proto__||s()(e.prototype),"inspector",this);return i()({},n,{general:i()({},n.general,{content:v.a.createElement(N.default,{name:"Settings"},v.a.createElement(x.default,{label:"Access Token",vertical:!0},v.a.createElement("aside",null,v.a.createElement("a",{href:"http://instagram.pixelunion.net/",target:"_blank"},"Get token")),v.a.createElement(T.default,{bind:"state.token"})),v.a.createElement(x.default,{label:"Limit",vertical:!0},v.a.createElement(D.default,{bind:"state.limit",min:1,max:30,step:1,flex:"4",format:function(t){return parseInt(t,10)||0}}),v.a.createElement(T.default,{bind:"state.limit",min:1,max:30,step:1,flex:"1"})),v.a.createElement(x.default,{label:"Columns",vertical:!0},v.a.createElement(D.default,{bind:"state.cols",min:0,max:12,step:1,flex:"4",format:function(t){return parseInt(t,10)||0}}),v.a.createElement(T.default,{bind:"state.cols",min:0,max:12,step:1,flex:"1",parse:function(t){return t||"auto"},format:function(t){return parseInt(t,10)||0}})),v.a.createElement(x.default,{label:"Gutter",vertical:!0},v.a.createElement(D.default,{bind:"state.gutter",min:0,max:100,step:2,flex:"4",onChange:function(e){t.setStyle({margin:"0 -"+e/2+"px"})}}),v.a.createElement(T.default,{bind:"state.gutter",min:0,max:100,step:2,flex:"1",parse:function(t){return parseInt(t)+"px"},format:function(t){return parseInt(t,10)||0},onChange:function(e){t.setStyle({margin:"0 -"+e/2+"px"})}})))})})}},{key:"className",get:function(){var t=this.state.cols?"grid--"+_.f[parseInt(this.state.cols)]:"grid--automatic";return this.id+"-instagram pb-instagram pb-grid "+t+" grid--doubling"}}],[{key:"propTypes",get:function(){return i()({},h()(e.__proto__||s()(e),"propTypes",this),{token:k.a.string,limit:k.a.number,cols:k.a.number,gutter:k.a.number})}},{key:"defaultProps",get:function(){return i()({},h()(e.__proto__||s()(e),"defaultProps",this),{token:"3646189880.1677ed0.6d17b0afb90649f3a228e301ea0d5de2",limit:4,cols:4,gutter:0})}}]),e}(E.default);C.css="\n\t& {\n\t\tpadding: 20px;\n\t}\n\t& a {\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t}\n\t& img {\n\t\theight: auto;\n\t}\n\t& h3 {\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n"},775:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return T});var a=n(28),i=n.n(a),r=n(141),s=n.n(r),l=n(349),o=n.n(l),d=n(350),u=n.n(d),c=n(351),m=n.n(c),p=n(354),h=n.n(p),f=n(352),g=n.n(f),w=n(360),v=n(142),y=n(0),k=n.n(y),b=n(7),E=n.n(b),_=n(355),x=n(353),N=n(357),T=function(t){function e(){var t,n,a,i;o()(this,e);for(var r=arguments.length,l=Array(r),d=0;d<r;d++)l[d]=arguments[d];return n=a=m()(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(l))),a.updateTwitter=v.b.debounce(function(){a.removeStatusLoadingTimeline(),a.updateDOM(),a.refreshTwitter(),v.b.delay(function(){a.updateSelection()},1e3)},1e3),i=n,m()(a,i)}return g()(e,t),u()(e,[{key:"componentDidMount",value:function(){this.refreshTwitter()}},{key:"componentDidUpdate",value:function(){this.updateTwitter()}},{key:"refreshTwitter",value:function(){var t=this;if(this.page.window.twttr)this.page.window.twttr.widgets.load();else{var e=this.DOMNode,n=this.page.document.createElement("script");n.src="//platform.twitter.com/widgets.js",n.async=!0,n.id="twitter-wjs",n.onload=function(){t.page.window.twttr.widgets.load(),t.page.window.twttr.events.bind("loaded",function(){t.addStatusLoadingTimeline()})},e.parentNode.appendChild(n)}}},{key:"updateDOM",value:function(){var t=this.DOMNode&&this.DOMNode.getElementsByTagName("iframe")[0];if(t){var e=t.parentElement;e.removeChild(t);var n=this.page.document.createElement("a");n.className="twitter-timeline",n.href=this.state.twitterLink,n.setAttribute("data-width",this.state.width),n.setAttribute("data-height",this.state.height),e.appendChild(n)}}},{key:"addStatusLoadingTimeline",value:function(){var t=this.DOMNode&&this.DOMNode.getElementsByClassName("twitter-timeline-error")[0];t&&(t.text="Twitter link is not found.",t.style="width: "+this.state.width+"px; height: "+this.state.height+"px;")}},{key:"removeStatusLoadingTimeline",value:function(){var t=this.DOMNode&&this.DOMNode.getElementsByClassName("twitter-timeline-error")[0];t&&t.remove()}},{key:"componentWillSave",value:function(){this.updateDOM()}},{key:"render",value:function(){return E.a.createElement("div",null,E.a.createElement("a",{className:"twitter-timeline",href:this.state.twitterLink,"data-width":this.state.width,"data-height":this.state.height}),E.a.createElement("script",{async:!0,src:"//platform.twitter.com/widgets.js",charSet:"utf-8"}))}},{key:"inspector",get:function(){var t=h()(e.prototype.__proto__||s()(e.prototype),"inspector",this);return i()({},t,{general:i()({},t.general,{content:E.a.createElement(_.default,{name:"Content"},E.a.createElement(x.default,{label:"Twitter link"},E.a.createElement(N.default,{bind:"state.twitterLink"})),E.a.createElement(x.default,{label:"Dimensions",horizontal:!0},E.a.createElement(N.default,{bind:"state.width",label:"data width"}),E.a.createElement(N.default,{bind:"state.height",label:"data height"})))})})}}],[{key:"propTypes",get:function(){return i()({},h()(e.__proto__||s()(e),"propTypes",this),{width:k.a.string,height:k.a.string,twitterLink:k.a.string})}},{key:"defaultProps",get:function(){return{width:"300",height:"500",twitterLink:"https://twitter.com/justinbieber"}}}]),e}(w.default);T.css="\n\t& {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .twitter-timeline-error {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tfont-size: 14px;\n\t\tmin-width: 300px;\n\t\tmin-height: 500px;\n\t}\n"}});