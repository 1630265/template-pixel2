webpackJsonppagefly([16],{545:function(e,t,n){"use strict";function i(){function e(e,t,n,i){return o.addEventListener(e,function(e){for(var a=e.target;a&&"function"==typeof a.matches;){if(a.matches(t)){n.call(i||a,e,a);break}a=a.parentNode}},!0)}function t(){for(var e=o.getElementsByClassName("pb-instagram"),t=0;t<e.length;t++)n(e[t])}function n(e){var t=e.getAttribute("data-token"),n=e.getAttribute("data-limit"),i=e.getElementsByTagName("a"),a=e.getElementsByTagName("img");jQuery.ajax({url:"https://api.instagram.com/v1/users/self/media/recent/?access_token="+t,dataType:"jsonp",type:"GET",data:{access_token:t,count:a.length},success:function(e){for(var t=0;t<n;t++)i[t].setAttribute("href",e.data[t].link),a[t].setAttribute("src",e.data[t].images.low_resolution.url)}})}function i(){for(var e=0;e<p.length;e++){var t,n=o.body.getBoundingClientRect(),i=p[e].parentNode.getBoundingClientRect(),a=i.top-n.top;t=window.innerHeight>a?window.scrollY/h[e]:(window.innerHeight-a+window.scrollY)/h[e],"true"===f[e]&&(t=-t),window.innerHeight>a-window.scrollY&&(p[e].style.transform="translate3d(-50%, "+t+"px, 0)")}}var a=this,o=a.document;if(!a.PB3helperScriptInitialized){a.PB3helperScriptInitialized=!0,a.delegate=e,e("click","a[data-action]",function(e,t){switch(t.dataset.action){case"tab":e.preventDefault(),t.parentNode.childNodes.forEach(function(e){e.dataset.active=e===t||void 0}),o.querySelectorAll(this.getAttribute("href")).forEach(function(e){e.parentElement.childNodes.forEach(function(t){t.style.display=t===e?"":"none"})});break;case"accordion":e.preventDefault();var n=t.getAttribute("data-flag"),i=t.nextSibling.style.display;if("true"==t.parentNode.getAttribute("data-active"))t.parentNode.setAttribute("data-active",!1);else{var a=o.getElementsByClassName("accordion__item");for(var r in a)isNaN(r)||a[r].setAttribute("data-active",!1);t.parentNode.setAttribute("data-active",!0)}if("false"===n){if(t.parentNode)for(var s=t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.firstChild;s;)s.childNodes.length>1&&(s.childNodes[1].style.display="none"),s=s.nextSibling;"none"===i&&o.querySelectorAll(this.getAttribute("href")).forEach(function(e){e.style.display="none"==e.style.display?"":"none"})}else o.querySelectorAll(this.getAttribute("href")).forEach(function(e){e.style.display="none"==e.style.display?"":"none"})}},null);try{e("click","*[data-event]",function(e,t){var n=JSON.parse(t.dataset.event);if(n.ga&&"function"==typeof ga&&ga.apply(void 0,["send","event"].concat(r()(n.ga.split(",")))),n.pixel&&"function"==typeof fbq){new Function(n.pixel.replace(/\n|\r|\t/g,""))()}},null)}catch(e){}for(var s=window.innerHeight,l=o.querySelectorAll("[data-animation]"),c=[],u=0;u<l.length;u++){c.push({element:l[u],position:function(e){var t=o.body.getBoundingClientRect();return{top:e.parentNode.getBoundingClientRect().top-t.top,height:e.offsetHeight,clientReact:e.getBoundingClientRect()}}(l[u]),animation:l[u].getAttribute("data-animation")});var d=c[c.length-1].animation;-1!==d.toLowerCase().indexOf("in")&&(c[c.length-1].element.style.visibility="hidden"),c[c.length-1].position.top+c[c.length-1].position.height<=s&&(c[c.length-1].element.style.visibility="visible",c[c.length-1].element.className=c[c.length-1].element.className+" animated "+d,jQuery(c[c.length-1].element).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){this.className=this.className.replace("animated","")}))}o.addEventListener("scroll",function(e){for(var t=window.scrollY,n=s+t,i=0;i<c.length;i++){if(c[i].position.top+c[i].position.height<n){var a=c[i].animation;-1===c[i].element.className.indexOf(a)&&(c[i].element.style.visibility="visible",c[i].element.className=c[i].element.className+" animated "+a,jQuery(c[i].element).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){this.className=this.className.replace("animated","")}))}}},!0),window.addEventListener("update-instagram",function(e){t()}),t();for(var p=[],h=[],f=[],y=o.querySelectorAll('[data-parallax="true"]'),g=0;g<y.length;g++)p[g]=y[g].querySelector(".parallax-bg"),h[g]=11-1.15*y[g].dataset.speed/2,f[g]=y[g].dataset.reversed||"false";var m=void 0;window.addEventListener("scroll",function(e){var t=m=requestAnimationFrame(function(e){t===m&&i()})});var v=o.querySelectorAll(".html5-video");!function(){for(var e=0;e<v.length;e++)!function(e){v[e].addEventListener("click",function(t){v[e].paused?v[e].play():v[e].pause()})}(e)}()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(145),r=n.n(a)},719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return se});var i=n(81),a=n.n(i),r=n(49),o=n.n(r),s=n(399),l=n.n(s),c=n(85),u=n.n(c),d=n(145),p=n.n(d),h=n(31),f=n.n(h),y=n(382),g=n.n(y),m=n(28),v=n.n(m),k=n(151),b=n.n(k),S=n(152),E=n.n(S),w=n(141),x=n.n(w),A=n(349),T=n.n(A),D=n(350),j=n.n(D),C=n(351),O=n.n(C),N=n(354),R=n.n(N),F=n(352),_=n.n(F),M=n(13),L=n.n(M),B=n(29),I=n.n(B),P=n(720),H=n.n(P),U=n(721),q=n.n(U),W=n(7),z=n.n(W),$=n(0),Y=n.n($),J=n(439),K=n(34),V=n(146),G=n(374),Q=n(545),X=n(364),Z=n(723),ee=n(367),te=n(377),ne="joomla"===Object({ENV:"production",BABEL_ENV:"production",NODE_ENV:"production"}).PB_PLATFORM,ie={all:[0,0],mobile:[568,0],tablet:[768,0],laptop:[1199,0],desktop:[1366,0]},ae={all:"all",desktop:"only screen and (min-width: "+G.c.postlaptop+"px)",laptop:"only screen and (min-width: "+G.c.posttablet+"px) and (max-width: "+G.c.laptop+"px)",tablet:"only screen and (min-width: "+G.c.postmobile+"px) and (max-width: "+G.c.tablet+"px)",mobile:"only screen and (max-width: "+G.c.mobile+"px)"},re=Object(ee.a)(Object(te.a)().extend({get idAttribute(){return"family"}})),oe=Object(te.a)({variables:Object(ee.a)(Object(te.a)({attr:"",value:""})),symbols:Object(ee.a)(Object(te.a)({name:"",key:""})),fonts:Object(ee.a)(Object(te.a)({family:""})),items:Object(ee.a)(Object(te.a)({type:""}))}),se=function(t){function n(){var e;T()(this,n);for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var r=O()(this,(e=n.__proto__||x()(n)).call.apply(e,[this].concat(i)));return r.counter=null,r.refsById={},r.store=new oe({variables:[{attr:"color1",value:"#507992"},{attr:"color2",value:"#ddbca6"},{attr:"color3",value:"#cea589"},{attr:"color4",value:"#c17d6b"},{attr:"color5",value:"#946956"}]}),r.store.on("change",function(){return r.forceUpdate()}),r.state.title=r.props.title||"",r.state.page_id=r.props.page_id||"",r.state.items[0]&&"Head"===r.state.items[0].type||(r.state.items[0]={type:"Head",children:[]}),r.state.items[1]&&"Body"===r.state.items[1].type||(r.state.items[1]={type:"Body",children:[]}),r.props.template&&(r.state.items[1]={type:"Block",children:[]},r.addTemplate(r.props.template,"1")),r.updateFrame=L.a.debounce(r.updateFrame),r.updateSelection=L.a.debounce(r.updateSelection),r.debounceForceUpdate=L.a.debounce(function(){return r.setState({})},500),r.state.device="all",r.styleSheets=L.a.mapObject(ae,function(e,t){var n=r.createStyleSheet();return t===r.state.device?n.disabled=!1:n.disabled=!0,n}),r.history=new Z.a,r.typeStyleSheets={},r.fonts=new re(r.props.googleFonts||[]),r.listenTo(r.fonts,"update reset sort",function(){r.saveState({googleFonts:r.fonts.toJSON()}),r.fontsOptions.reset(r.fonts.map(function(e){return{label:e.id,value:e.id}}))}),r.fontsOptions=new ee.a(r.fonts.map(function(e){return{label:e.id,value:e.id}})),r.on("all",r.updateFrame),r.initFonts(),r}return _()(n,t),j()(n,[{key:"initFonts",value:function(){function e(){return t.apply(this,arguments)}var t=E()(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.renderGoogleFonts();case 3:e.t1=e.sent,e.t2={fontLink:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChildContext",value:function(){return v()({},R()(n.prototype.__proto__||x()(n.prototype),"getChildContext",this).call(this),{page:this,app:this.app,model:this.model})}},{key:"componentDidMount",value:function(){var e=this;I()(this.window).add(top).keydown(function(t){if(t.metaKey||t.ctrlKey)switch(t.keyCode){case 67:e.selected&&e.selected.copy();break;case 86:e.selected&&e.selected.pasteStyle();break;case 83:t.preventDefault(),e.get("app.menubar.state.updated")&&e.invoke("app.hook.save")}8===t.keyCode||t.keyCode,68===t.keyCode&&(t.metaKey||t.ctrlKey)?(t.preventDefault(),t.stopPropagation(),e.invoke("selected.duplicate",function(e){return L.a.result(e,"select")})):8===t.keyCode||46===t.keyCode?(t.preventDefault(),t.stopPropagation(),e.invoke("selected.remove")):90===t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.stopPropagation(),t.shiftKey?e.restore("redo"):e.restore("undo"))}),this.applyStyles(),this.updateSelection();var t=ie[this.state.device],n=g()(t,2),i=n[0],a=n[1];this.editor.setState({page:this,deviceWidth:i,deviceHeight:a},function(){e.editor.handleResize()}),this.app.setState({page:this}),Q.default.call(this.window),this.props.onMount&&this.props.onMount(this),this.invoke("app.trigger","page:load",this),Object(J.b)(["Head","Body","Layout"]).then(function(){return e.forceUpdate()})}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(L.a.isEqual(t.googleFonts,this.state.googleFonts)||this.setState({fontLink:"edit"===this.mode?this.renderGoogleFonts():this.renderSelectedFont()}),t.jsCode===this.state.jsCode&&t.cssCode===this.state.cssCode&&t.items===this.state.items||this.updateBeforeUnload(),t.device!==this.state.device){var i=ie[this.state.device],a=g()(i,2),r=a[0],o=a[1];this.editor.setState({deviceWidth:r,deviceHeight:o},function(){n.app.handleResize()}),this.trigger("device");var s=this.state.device;if("all"!==t.device&&t.device in this.styleSheets){var l=this.styleSheets[t.device];l&&(l.disabled=!0)}var c=this.styleSheets[s];c&&(c.disabled=!1),this.updateSelection()}t.selected!==this.state.selected&&this.editor.setState({page:this,selected:this.selected},function(){n.trigger("select",n.selected),n.invoke("app.trigger","page:select:item",n.selected),n.updateSelection()})}},{key:"renderGoogleFonts",value:function(){var e=this.getSelectedFonts(),t=L.a.map(e,function(e,t){return{family:t,fonts:f()({},e,"")}});return[].concat(p()(t),p()(this.state.googleFonts)).filter(function(e){return"inherit"!==e.family&&""!==e.family}).map(function(e){return 0===u()(e.fonts).length?""+encodeURI(e.family):encodeURI(e.family)+":"+u()(e.fonts).join(",")}).join("|")}},{key:"getSelectedFonts",value:function(){var e={};return L.a.each(this.styleSheets,function(t,n){t.cachedRules&&L.a.each(t.cachedRules,function(t,n){t.style&&t.style.fontFamily&&(e[t.style.fontFamily]||NaN===parseInt(t.style.fontWeight)?e[t.style.fontFamily]&&e[t.style.fontFamily]!==t.style.fontWeight&&(e[t.style.fontFamily]=e[t.style.fontFamily]+","+t.style.fontWeight):e[t.style.fontFamily]=t.style.fontWeight)})}),e}},{key:"renderSelectedFont",value:function(){var e=this.getSelectedFonts();return 0===u()(e).length?"Lato":L.a.map(e,function(e,t){return parseInt(e)>=100?encodeURI(t.replace(/"/g,""))+":"+e:encodeURI(t.replace(/"/g,""))}).join("|")}},{key:"togglePreset",value:function(){I()(this.childContainer).children().toggle(),this.app.trigger("definepreset:toggle")}},{key:"shouldRemoveChild",value:function(){return!1}},{key:"updateFrame",value:function(){if(this.DOMNode&&this.frame&&this.document){this.layout&&this.invoke("layout.handleResize");var e=this.get("editor.state.zoom",1),t=this.get("document.body.offsetHeight",0);this.frame.style.height=Math.floor(t)+"px",this.editor.canvas.style.height=Math.floor(t*e)+"px"}}},{key:"updateSelection",value:function(){this._isMounted&&(this.trigger("update:selection"),this.updateFrame())}},{key:"updateElementCount",value:function(){this._isMounted&&this.app.setState({elementCount:this.elementCount})}},{key:"resizeHandler",value:function(e){this.updateSelection()}},{key:"dragStart",value:function(e){e.stopPropagation(),e.dataTransfer.effectAllowed="all",this.deselectText()}},{key:"dragEnd",value:function(e){I()("html").css({cursor:"initial"}),this.app.__dragging=!1,this.onDrop(e),I()(this.DOMNode).removeClass(".dragging"),I()(this.DOMNode).find("[data-droppable]").removeAttr("data-droppable"),this.updateSelection(),this.invoke("dragDropPlaceholder.setState",{show:!1}),delete this.app.__dragItem}},{key:"onDrop",value:function(e){this.app.__dragItem}},{key:"deselectText",value:function(){var e=this.window,t=this.document;if(e&&e.getSelection){var n=e.getSelection();if(!n)return;n.empty?n.empty():n.removeAllRanges&&n.removeAllRanges()}else t&&t.selection&&t.selection.empty()}},{key:"selectText",value:function(e){var t=this.document,n=t.getSelection(),i=t.createRange();i.selectNodeContents(void 0!==e?e:n.focusNode.parentNode);var a=t.getSelection();a.removeAllRanges(),a.addRange(i)}},{key:"setMode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.a.noop;this.deselectAll(),this.setState({selected:null,mode:e},function(){t.body.forceUpdateAll(function(){L.a.defer(n)})})}},{key:"resetCSS",value:function(e){for(var t=this.getStyleSheet(e);t.cssRules&&t.cssRules.length;)t.deleteRule(0);t.cachedRules={},this.body.applyStyles(),this.forceUpdate()}},{key:"createStyleSheet",value:function(e,t,n){var i=this.document.createElement("style");n?I()(this.document.head).find("base").after(i):I()(this.document.head).append(i),i.setAttribute("type","text/css"),i.setAttribute("data-frontend",!!e&&!t&&"Body"!==n&&"Layout"!==n&&"Head"!==n),n&&i.setAttribute("data-element",n),i.innerHTML=e||"";var a=L()(this.document.styleSheets).find(function(e){return i===e.ownerNode});return a||{}}},{key:"getStyleSheet",value:function(e){return this.styleSheets[e||this.device||"all"]}},{key:"getStyleRule",value:function(e,t){if(!e)return{};var n=this.getStyleSheet(t);return n.cachedRules||(n.cachedRules={}),n.cachedRules[e]||/^\.$/.test(e)||(n.insertRule(e.replace(/\.+/g,".")+"{}",n.cssRules.length),n.cachedRules[e]=n.cssRules[n.cssRules.length-1]),n.cachedRules[e]}},{key:"extractStyles",value:function(){var e=l()(null);return L.a.mapObject(this.page.styleSheets,function(t,n){var i=l()(null);L.a.each(t.cachedRules,function(e,t){t&&e&&e.style&&e.style.cssText&&(i[t]=e.style.cssText)}),L.a.isEmpty(i)||(e[n]=i)}),e}},{key:"applyStyles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.styles;L.a.each(t,function(t,n){L.a.isObject(t)&&L.a.each(t,function(t,i){if(i&&L.a.isString(i)){var a=e.page.getStyleRule(i,n);a&&(a.style.cssText=t)}})})}},{key:"getElement",value:function(e){return this.refsById[e]}},{key:"getItemState",value:function(e){for(var t=this.refsById[e]?this.refsById[e].state:this.state.items[e],n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.length?L.a.pick.apply(L.a,[t].concat(i)):t}},{key:"deselectAll",value:function(e){this.trigger("deselect"),(this.selected||e)&&(this.deselectText(),this.setState({selected:null}),this.DOMNode&&(I()(this.DOMNode).find("[data-selected]").removeAttr("data-selected"),I()(this.DOMNode).find("[data-droppable]").removeAttr("data-droppable")))}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.a.noop;"1"===e&&(e=null);var n=this.getElement(e);n?n.select(function(){t()}):(this.deselectText(),this.deselectAll(),t())}},{key:"item",value:function(e){return this.state.items[e]}},{key:"saveState",value:function(){return this.setState.apply(this,arguments)}},{key:"addItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=this,i=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L.a.noop;return new o.a(function(r,o){var s=n.getItemState(t,"children");n.dispatch({type:"ADD",index:i,parent:t,item:e},(L.a.isString(e)?e:e.type)+" to #"+t).then(function(e){r(e),a(e),L.a.delay(function(){var i=n.getItemState(t,"children");L.a.isEqual(s,i)||n.history.push(v()({},e,{parent:t,prev:s,next:i}))},100)})})}},{key:"addTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=this,i=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L.a.noop;return new o.a(function(r){var s=e,l=(s.type,s.children);L.a.isArray(l)&&(e=L.a.defaults({children:[]},e)),n.addItem(e,t,i).then(function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var c=e.key;L.a.isArray(l)?o.a.all(l.map(function(e,t){return n.addTemplate(e,c,t)})).then(function(){r.apply(void 0,[e].concat(i)),a.apply(void 0,[e].concat(i))}):(r.apply(void 0,[e].concat(i)),a.apply(void 0,[e].concat(i)))})})}},{key:"updateItem",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.a.noop;return new o.a(function(a){var r=n.getItemState.apply(n,[e].concat(p()(L.a.keys(t))));n.dispatch({type:"UPDATE",key:e,state:t},"#"+e).then(function(o){i(e),a(e),L.a.delay(function(){var i=n.getItemState.apply(n,[e].concat(p()(L.a.keys(t))));L.a.isEqual(r,i)||n.history.push(v()({},o,{prev:r,next:i}))},100)})})}},{key:"removeItem",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.a.noop;return new o.a(function(a){var r=n.getItemState(t);return n.dispatch({type:"REMOVE",key:e,parent:t},"#"+e+" from #"+t).then(function(o){i(e),a(e),L.a.delay(function(){var e=n.getItemState(t);n.history.push(v()({},o,{parent:t,prev:r,next:e}))},100)})})}},{key:"updateStyle",value:function(e,t,n){var i=this;return new o.a(function(a){i.dispatch({type:"STYLE",device:i.device,selector:e,from:t,to:n}).then(function(e){a(e),i.history.push(e),i.debounceForceUpdate()}),i.trigger("change:style"),i.app.trigger("page:update:element:styling",i)})}},{key:"dispatch",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new o.a(function(n){t.reduce(e),n(e)})}},{key:"updateBeforeUnload",value:function(){this.app.launch("menubar").then(function(e){return e.setState({updated:!0})})}},{key:"reduce",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0;if(t){var i=void 0;switch(t.type){case"ADD":n=L.a.isString(t.item)?t.item:this.nextID,t.key=n,this.state.items[t.parent]||(this.state.items[t.parent]={}),this.state.items[t.parent].children||(this.state.items[t.parent].children=[]);var a=[].concat(this.state.items[t.parent].children);a.splice(t.index,0,n),i={items:v()({},this.state.items,(e={},f()(e,t.parent,v()({},this.state.items[t.parent],{children:a})),f()(e,n,L.a.isString(t.item)?this.state.items[t.item]:t.item),e))};break;case"UPDATE":if(!this.state.items[t.key])break;i={items:v()({},this.state.items,f()({},t.key,L.a.chain(this.state.items[t.key]).cloneDeep().extend(t.state).value()))};break;case"REMOVE":t.key&&t.parent&&(t.item=this.item(t.key),i=H()(this.state,{items:f()({},t.parent,{children:{$apply:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=L.a.indexOf(e,t.key);return t.item=e.splice(n,1)[0],e}}})}));break;case"STYLE":this.updateBeforeUnload()}i&&this.setState(i)}}},{key:"restore",value:function(e){var t=this;if("view"!==this.mode){if(!/undo|redo/.test(e))throw new Error('Invalid history action "'+e+'" - allowed values: undo, redo');if(!0!==this.restoring){this.restoring=!0;var n=0,i=void 0;!function a(){if(i&&("undo"===e&&i.START||"redo"===e&&i.STOP))return t.updateSelection(),t.restoring=!1,t.trigger(e),void t.invoke("app.trigger",e);var r=void 0,o=void 0,s=void 0;if(i=t.history[e]()){switch(i.type){case"STYLE":o="undo"===e?i.from:i.to,t.getStyleRule(i.selector,i.device).style.cssText=o,a();break;case"ADD":case"REMOVE":case"UPDATE":r="UPDATE"===i.type?i.key:i.parent,s="undo"===e?i.prev:i.next,t.dispatch({type:"UPDATE",key:r,state:s}).then(function(e){var n=t.getElement(r);n._isMounted?n.setState(s,a):a()})}n+=1}else t.updateSelection(),t.restoring=!1,t.trigger(e),t.invoke("app.trigger",e)}()}}}},{key:"undo",value:function(){return this.restore("undo")}},{key:"redo",value:function(){return this.restore("redo")}},{key:"startHistory",value:function(){this.history.active=!0}},{key:"getAllCSSAsText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return L.a.map(this.styleSheets,function(t,n){var i=L.a.reduce(t.cssRules,function(e,t){if(t&&t&&t.style&&t.style.cssText){var n=t.style.cssText.replace(/([^:]*:[^;]*;)/g,"\t\t$1\n").trim();e+="\n\t"+t.selectorText+" {\n\t\t"+n+"\n\t}"}return e},"");return"\n@media "+(e?"$"+n:ae[n])+" {\n"+i+"\n}\n"}).join("")}},{key:"extractFrontEndCss",value:function(){var e=this.document.head.getElementsByTagName("style");return L()(e).filter(function(e){return!0===I()(e).data("frontend")}).map(function(e){return e.innerText}).join(" ")}},{key:"extractCssLink",value:function(){var e=this.document.head.getElementsByTagName("link");return L()(e).filter(function(e){return!0===I()(e).data("frontend")}).map(function(e){return e.outerHTML}).join(" ")}},{key:"componentWillSave",value:function(){var e=this;return new o.a(function(t,n){L.a.each(e.refsById,function(e,t){e.componentWillSave&&e.componentWillSave()}),t()})}},{key:"getHtml",value:function(){return L.a.unescape((this.layout||this.body).DOMNode.innerHTML.replace(/<!-- [^>]*>/g,"").replace(/contenteditable(="[^"]*")/g,"").replace(/placeholder(="[^"]*")/g,"").replace(/tabindex(="[^"]*")/g,"").replace(/draggable(="[^"]*")/g,"").replace(/id=""/,""))}},{key:"getFrontEndDefaultStyle",value:function(){return this.extractFrontEndCss().replace(/(\r\n|\r|\n|\t|\s)+/g," ")}},{key:"getFrontEndStyles",value:function(){return this.getAllCSSAsText().replace(/(\r\n|\r|\n|\t|\s)+/g," ")}},{key:"getHelperScript",value:function(){return('<script type="text/javascript">('+Q.default.toString()+").call(this)<\/script>").replace(/\n|\r|\n\r/g,"").replace(/[\s\t]+/g," ").trim()}},{key:"getFrontEndScript",value:function(){var e=this,t={},n={},i=L.a.map(this.refsById,function(e){return e._renderScript()}).join("").trim();return L()(this.refsById).each(function(i){i._isMounted&&!i.hidden&&(n[i.type]||(n[i.type]=[]),n[i.type].push(i.key),L()(i.scripts).each(function(n,a){var r=!!n.match(/^https?:\/\/*/),o=q.a.relative(e.app.baseURL,(i.constructor.__dirname||"").replace(window.location.origin,"")),s=o&&!r?o+"/"+n:n;t[a]='<script type="text/javascript" src="'+s+'"><\/script>'}))}),t=L()(t).values().join("").trim(),i+=L.a.map(n,function(t,n){if(e.app.elements[n]&&e.app.elements[n].script){var i=e.app.elements[n].script.toString();return("\n\t\t\t\t\t\t"+a()(L.a.map(t,function(t){var n=e.getElement(t);return{selector:n.selector,arg:n.scriptData}}))+".forEach(function(item){\n\t\t\t\t\t\t\t("+i+").call(document.querySelector(item.selector),item.arg)\n\t\t\t\t\t\t});").replace(/\n|\r|\n\r/g,"").replace(/[\s\t]+/g," ").trim()}return""}).join(""),i&&(i='<script type="text/javascript" >'+i+"<\/script>"),i}},{key:"renderHTML",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a.noop;if(!this.body||this.body._isMounted&&!this.body.isEmpty){var n=this.state.selected;this.componentWillSave().then(function(){e.setMode("view",function(){var i=e.getHtml(),a='<style type="text/css">'+e.getFrontEndDefaultStyle()+"</style>",r='<style type="text/css">'+e.getFrontEndStyles()+"</style>",o=e.assetsContainer.innerHTML,s=e.getHelperScript(),l=ne?"":e.extractCssLink();e.setMode("edit",function(){t(l+a+o+r+i+s),e.setState({selected:n})})})})}else t("\x3c!-- JSN PAGEBUILDER 3: EMPTY PAGE --\x3e")}},{key:"renderCSS",value:function(e){return z.a.createElement("div",{style:{width:"100%",height:300,padding:"0 20px",border:"none",background:"#ccc",fontFamily:"Menlo",fontSize:"11px",overflow:"scroll",whiteSpace:"pre-wrap",lineHeight:1.5,tabSize:4}},L.a.map(this.styleSheets,function(t,n){return t.cssRules.length?z.a.createElement("div",{key:n,style:{padding:"10px 0",marginBottom:10}},z.a.createElement("strong",{style:{display:"block",marginBottom:10}},"@media ",z.a.createElement("label",{style:{padding:5,lineHeight:1,display:"inline-block",background:"#d1a3d6",color:"##10223e",cursor:"pointer"}},n)," ",z.a.createElement("label",null,ae[n])),z.a.createElement("div",{style:{borderLeft:"5px solid grey",padding:"0 10px",marginLeft:"10px",marginBottom:10}},L.a.map(t.cssRules,function(t){if(e&&!e.matches(t.selectorText))return null;if(t.style.cssText){var n=t.style.cssText.replace(/([^:\s]*:[^;]*;\s*)/g,"$1\n").trim();return z.a.createElement("div",{key:t.selectorText},z.a.createElement("strong",{style:{display:"inline-block",lineHeight:1,marginBottom:5,padding:3,background:"#eee",cursor:"pointer"}},t.selectorText),z.a.createElement("div",{style:{padding:0,margin:"0px 0 10px 15px",lineHeight:1.5}},n))}}))):null}))}},{key:"handleWheel",value:function(e){e.stopPropagation(),this.editor.scrollView.handleWheel(e)}},{key:"handleFocus",value:function(){this.editor.handleFocus()}},{key:"renderFallbackFonts",value:function(){var e=this.state.fontLink.split("|").map(function(e){return e.replace(/:.*$/,"")}),t=this.renderSelectedFont().split("|");return L.a.difference(t,e).join("|")}},{key:"renderEmbededCSS",value:function(){return z.a.createElement("style",null,":root {",this.store.get("variables").map(function(e){return"--"+e.get("attr")+": "+e.get("value")+";"}),"}")}},{key:"render",value:function(){var e=this;return z.a.createElement("div",{ref:function(t){return e.DOMNode=t},onMouseDownCapture:this.handleFocus,onWheel:this.handleWheel},this.renderEmbededCSS(),z.a.createElement("div",{ref:function(t){return e.assetsContainer=t}},""!==this.state.cssCode&&z.a.createElement("style",null,this.state.cssCode),this.state.fontLink&&""!==this.state.fontLink?z.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family="+("view"===this.mode?this.renderSelectedFont():this.state.fontLink)}):null,""!==this.state.jsCode&&z.a.createElement("script",{type:"text/javascript"},this.state.jsCode)),z.a.createElement("div",{style:{overflow:"hidden"},ref:function(t){return e.childContainer=t}},this.renderChildren(["0","1"])))}},{key:"offset",get:function(){return I()(this.frame).offset()}},{key:"salt",get:function(){return this.props.salt}},{key:"nextID",get:function(){return this.__idCounter=Object(V.b)(this.__idCounter,this.state.items),(this.__idCounter++).toString(36)}},{key:"hash",get:function(){return K.default.encode(this.type.toLowerCase(),parseInt(this.key,36))}},{key:"id",get:function(){return this.key?"p"+this.key:""}},{key:"device",get:function(){return this.state.device},set:function(e){this.setState({device:e})}},{key:"editor",get:function(){return this.props.editor}},{key:"elements",get:function(){return this.app.elements}},{key:"mode",get:function(){return this.state.mode},set:function(e){return this.setMode(e)}},{key:"view",get:function(){this.mode="view"}},{key:"edit",get:function(){this.mode="edit"}},{key:"data",get:function(){var e=this,t=L.a.pick(this.state,"salt","jsCode","cssCode"),n=L.a.reduce(this.state.items,function(t,n,i){if(!n||i.toString().match(/^_/))return t;var a=e.refsById[i],r=L.a.filter(e.state.items,function(t,n){return t&&t.state&&t.state.children&&t.state.children.indexOf(i)>-1&&e.getElement(n)&&e.getElement(n)._isMounted});return a&&(a._isMounted||!a._isMounted&&r.length)?(t[i]=L.a.extend(a.data,{styles:a.extractStyles()}),"Joomla.Articles"!==t[i].type&&"Joomla.K2"!==t[i.type]&&"Joomla.EasyBlog"!==t[i.type]||(t[i]=L.a.omit(t[i],"sampleData")),"Joomla.Article"===t[i].type&&(t[i]=L.a.omit(t[i],"data")),t):(!a&&n.type&&r.length&&(t[i]=n),t)},l()(null));return t.googleFonts=this.state.googleFonts.map(function(e){var t={};return L.a.each(e.fonts,function(e,n){t[n]=""}),{family:e.family.replace(/"/g,""),fonts:t}}),t.salt=t.salt?t.salt:Math.random().toString(36).substring(2),L.a.isEqual(n,this.constructor.defaultProps.items)||(t.items=n),t.id=t.id?t.id:this.props.page_id,t.pb_version=152,t}},{key:"elementCount",get:function(){return L.a.size(this.state.items)}},{key:"events",get:function(){var e=this;return{onTransitionEnd:function(t){e.updateSelection()},onDragStart:function(e){e.preventDefault()},onDragEnd:function(t){e.dragEnd(t)},onDragLeave:function(t){e.invoke("page.dragDropPlaceholder.setState",{show:!1})},onDrop:function(e){e.preventDefault()},onMouseEnter:function(e){e.preventDefault(),e.stopPropagation()},onMouseLeave:function(e){e.preventDefault(),e.stopPropagation()},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(t){e.page.updateSelection()},onClick:function(e){e.preventDefault(),e.stopPropagation()}}}},{key:"document",get:function(){return this.frame?this.frame.contentDocument:e.document}},{key:"window",get:function(){return this.frame?this.frame.contentWindow:e.window}},{key:"frame",get:function(){return this.editor.frame}},{key:"app",get:function(){return this.editor.app}},{key:"page",get:function(){return this}},{key:"head",get:function(){return this.getElement(0)}},{key:"body",get:function(){return this.getElement(1)}},{key:"selected",get:function(){return L.a.isString(this.state.selected)?this.getElement(this.state.selected):this.state.selected}},{key:"isEmpty",get:function(){return!1}},{key:"styleSheet",get:function(){return this.getStyleSheet()}}],[{key:"propTypes",get:function(){return{proxy:Y.a.any,hash:Y.a.string,html:Y.a.string,items:Y.a.object.isRequired,page_id:Y.a.string,title:Y.a.string,children:Y.a.array,device:Y.a.oneOf(u()(ae)),mode:Y.a.oneOf(["edit","view"]),tab:Y.a.oneOf(["layout","styles","config","code","assets"]),jsCode:Y.a.string,cssCode:Y.a.string,googleFonts:Y.a.array,isPreset:Y.a.bool}}},{key:"defaultProps",get:function(){return{_id:L.a.random(1e4,99999).toString(36),proxy:null,mode:"edit",items:{0:{type:"Head",children:[]},1:{type:"Body",children:["2"]},2:{type:"Layout"}},device:"all",tab:"layout",jsCode:"",cssCode:"",googleFonts:G.e,isPreset:!1}}},{key:"childTypes",get:function(){return null}}]),n}(X.default)}.call(t,n(80))},720:function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function a(e,t,n){s(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var i=t[n];s(Array.isArray(i),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,i)}function r(e,t){if(s("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",y.join(", "),p),l.call(t,p))return s(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",p),t[p];var n=i(e);if(l.call(t,h)){var m=t[h];s(m&&"object"==typeof m,"update(): %s expects a spec of type 'object'; got %s",h,m),s(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",h,n),o(n,t[h])}l.call(t,c)&&(a(e,t,c),t[c].forEach(function(e){n.push(e)})),l.call(t,u)&&(a(e,t,u),t[u].forEach(function(e){n.unshift(e)})),l.call(t,d)&&(s(Array.isArray(e),"Expected %s target to be an array; got %s",d,e),s(Array.isArray(t[d]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),t[d].forEach(function(e){s(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),n.splice.apply(n,e)})),l.call(t,f)&&(s("function"==typeof t[f],"update(): expected spec of %s to be a function; got %s.",f,t[f]),n=t[f](n));for(var v in t)g.hasOwnProperty(v)&&g[v]||(n[v]=r(e[v],t[v]));return n}var o=n(84),s=n(51),l={}.hasOwnProperty,c="$push",u="$unshift",d="$splice",p="$set",h="$merge",f="$apply",y=[c,u,d,p,h,f],g={};y.forEach(function(e){g[e]=!0}),e.exports=r},721:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var a=e[i];"."===a?e.splice(i,1):".."===a?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,r=arguments.length-1;r>=-1&&!a;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),r="/"===o(e,-1);return e=n(i(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&r&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=i(e.split("/")),r=i(n.split("/")),o=Math.min(a.length,r.length),s=o,l=0;l<o;l++)if(a[l]!==r[l]){s=l;break}for(var c=[],l=s;l<a.length;l++)c.push("..");return c=c.concat(r.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=r(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return r(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(722))},722:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){y&&h&&(y=!1,h.length?f=h.concat(f):g=-1,f.length&&s())}function s(){if(!y){var e=a(o);y=!0;for(var t=f.length;t;){for(h=f,f=[];++g<t;)h&&h[g].run();g=-1,t=f.length}h=null,y=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var h,f=[],y=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||y||a(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},723:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(349),a=n.n(i),r=n(350),o=n.n(r),s=n(13),l=n.n(s),c=function(){function e(){a()(this,e),this.active=!1,this.UNDO=[],this.REDO=[],this.markStart=l.a.debounce(this.markStart,500,!0),this.markStop=l.a.debounce(this.markStop,500)}return o()(e,[{key:"markStart",value:function(e){e.START=!0}},{key:"markStop",value:function(e){e.STOP=!0}},{key:"push",value:function(e){return!!this.active&&(this.REDO.length=0,this.UNDO.push(e),this.markStart(e),this.markStop(e),!0)}},{key:"undo",value:function(){if(this.active)return this.UNDO.length?this.REDO[this.REDO.push(this.UNDO.pop())-1]:null}},{key:"redo",value:function(){if(this.active)return this.REDO.length?this.UNDO[this.UNDO.push(this.REDO.pop())-1]:null}}]),e}()}});