webpackJsonppagefly([55],{383:function(t,n,e){function i(t,n){return null!=t&&o(t,n,r)}var r=e(384),o=e(154);t.exports=i},384:function(t,n){function e(t,n){return null!=t&&n in Object(t)}t.exports=e},395:function(t,n,e){function i(t,n,e){function i(n){var e=x,i=m;return x=m=void 0,P=n,T=t.apply(i,e)}function d(t){return P=t,k=setTimeout(p,n),z?i(t):T}function l(t){var e=t-w,i=t-P,r=n-e;return E?c(r,y-i):r}function h(t){var e=t-w,i=t-P;return void 0===w||e>=n||e<0||E&&i>=y}function p(){var t=o();if(h(t))return f(t);k=setTimeout(p,l(t))}function f(t){return k=void 0,R&&x?i(t):(x=m=void 0,T)}function v(){void 0!==k&&clearTimeout(k),P=0,x=w=m=k=void 0}function g(){return void 0===k?T:f(o())}function b(){var t=o(),e=h(t);if(x=arguments,m=this,w=t,e){if(void 0===k)return d(w);if(E)return k=setTimeout(p,n),i(w)}return void 0===k&&(k=setTimeout(p,n)),T}var x,m,y,T,k,w,P=0,z=!1,E=!1,R=!0;if("function"!=typeof t)throw new TypeError(u);return n=a(n)||0,r(e)&&(z=!!e.leading,E="maxWait"in e,y=E?s(a(e.maxWait)||0,n):y,R="trailing"in e?!!e.trailing:R),b.cancel=v,b.flush=g,b}var r=e(5),o=e(401),a=e(428),u="Expected a function",s=Math.max,c=Math.min;t.exports=i},401:function(t,n,e){var i=e(6),r=function(){return i.Date.now()};t.exports=r},503:function(t,n,e){var i=e(504),r=e(478),o=r(function(t,n){return null==t?{}:i(t,n)});t.exports=o},504:function(t,n,e){function i(t,n){return r(t,n,function(n,e){return o(t,e)})}var r=e(505),o=e(383);t.exports=i},505:function(t,n,e){function i(t,n,e){for(var i=-1,u=n.length,s={};++i<u;){var c=n[i],d=r(t,c);e(d,c)&&o(s,a(c,t),d)}return s}var r=e(86),o=e(175),a=e(36);t.exports=i},796:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"default",function(){return E});var i,r,o=e(361),a=e.n(o),u=e(141),s=e.n(u),c=e(349),d=e.n(c),l=e(350),h=e.n(l),p=e(351),f=e.n(p),v=e(352),g=e.n(v),b=e(395),x=e.n(b),m=e(29),y=e.n(m),T=e(503),k=(e.n(T),e(358)),w=e(360),P=e(386),z=a()(["\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tborder: 2px dashed ",";\n\t// box-shadow: 0 0 0px 1px ",";\n\tmargin: 0px;\n\tpointer-events: none;\n\ttransition: ",";\n\n\tz-index: 100;\n\n\t& > * {\n\t\tpointer-events: initial;\n\t}\n\n\t// &:after {\n\t// \tcontent: '';\n\t// \tpointer-events: none;\n\t// \twidth: 100%;\n\t// \theight: 100%;\n\t// \tposition: absolute;\n\t// \tborder: 2px dashed ",";\n\t// \tmargin: -2px;\n\t// \tborder-radius: inherit;\n\t// }\n"],["\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tborder: 2px dashed ",";\n\t// box-shadow: 0 0 0px 1px ",";\n\tmargin: 0px;\n\tpointer-events: none;\n\ttransition: ",";\n\n\tz-index: 100;\n\n\t& > * {\n\t\tpointer-events: initial;\n\t}\n\n\t// &:after {\n\t// \tcontent: '';\n\t// \tpointer-events: none;\n\t// \twidth: 100%;\n\t// \theight: 100%;\n\t// \tposition: absolute;\n\t// \tborder: 2px dashed ",";\n\t// \tmargin: -2px;\n\t// \tborder-radius: inherit;\n\t// }\n"]),E=(r=i=function(t){function n(){return d()(this,n),f()(this,(n.__proto__||s()(n)).apply(this,arguments))}return g()(n,t),h()(n,[{key:"componentWillMount",value:function(){this.debounceUpdate=x()(this.update(!1))}},{key:"componentDidMount",value:function(){this.listenTo(this.context.app,"undo redo resize",this.debounceUpdate),this.listenTo(this.context.panel,"resize",this.debounceUpdate),this.changeTarget()}},{key:"componentDidUpdate",value:function(){this.changeTarget()}},{key:"changeTarget",value:function(){this.lastTarget!==this.target&&(this.lastTarget&&(this.stopListening(this.lastTarget),this.lastTarget.page&&this.stopListening(this.lastTarget.page)),this.lastTarget=this.target,this.target&&(this.listenTo(this.target,"all",this.debounceUpdate),this.listenTo(this.target.page,"all",this.debounceUpdate))),this.debounceUpdate()}},{key:"changehandler",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.invoke("app.trigger","change:selection:bounds",t,n),this.app.launch("toolbar").then(function(t){t.updatePosition()})}},{key:"update",value:function(t){var n=this;return function(){if(n.target instanceof w.default){var e=n.target.boundingBox;y()(n.el).css({transition:t?"all .35s cubic-bezier(0.34, 0.32, 0.26, 1.24)":"none",top:e.top,left:e.left,width:e.width,height:e.height,opacity:1,display:"block",visibility:"visible",borderRadius:n.target.css("borderRadius")}),n.changehandler(e,1)}else y()(n.el).css({transition:t?"all .35s cubic-bezier(0.34, 0.32, 0.26, 1.24)":"none",opacity:0,display:"none",visibility:"hidden"}),n.changehandler({},0);n.app.launch("toolbar").then(function(t){t.updatePosition&&t.updatePosition()})}}},{key:"render",value:function(){var t=this;return k.React.createElement(R,{innerRef:function(n){return t.el=n}},k.React.createElement(P.default,{cid:"toolbar",path:"editor/toolbar"}),k.React.createElement(P.default,{cid:"richTextEditor",path:"addons/RichTextEditor"}),k.React.createElement(P.default,{cid:"presetPicker",path:"addons/PresetPicker"}))}}]),n}(k.default),i.APP_POS="content-overlay",r),R=k.styled.div(z,function(t){return t.theme.primary},function(t){return t.theme.primary},function(t){return t.transition?"all .35s cubic-bezier(0.34, 0.32, 0.26, 1.24)":"none"},function(t){return t.theme.primary})}});