webpackJsonppagefly([58],{487:function(e,t,a){function n(e){return i(l(e).toLowerCase())}var l=a(147),i=a(488);e.exports=n},488:function(e,t,a){var n=a(489),l=n("toUpperCase");e.exports=l},489:function(e,t,a){function n(e){return function(t){t=o(t);var a=i(t)?s(t):void 0,n=a?a[0]:t.charAt(0),r=a?l(a,1).join(""):t.slice(1);return n[e]()+r}}var l=a(490),i=a(429),s=a(491),o=a(147);e.exports=n},670:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"default",function(){return R});var n,l,i=a(141),s=a.n(i),o=a(349),r=a.n(o),c=a(350),d=a.n(c),u=a(351),f=a.n(u),h=a(352),p=a.n(h),m=a(13),g=a.n(m),v=a(487),y=a.n(v),b=a(7),E=a.n(b),k=a(358),S=a(365),w=a(371),_=a(369),C=a(368),x=(a(411),a(355)),F=a(353),A=a(356),H=a(375),P=a(359),L=a(362),M=a(357),T=a(479),U=a(533),D=U.a.subsets.map(function(e){return{label:e?y()(e):"All Languages",value:e}}),I=U.a.categories.map(function(e){return{label:e||"All Categories",value:e}}),O=!1,R=(l=n=function(e){function t(){return r()(this,t),f()(this,(t.__proto__||s()(t)).apply(this,arguments))}return p()(t,e),d()(t,[{key:"fetchFonts",value:function(){var e=this;O?this.models=this.fonts:(O=!0,g.a.delay(function(){U.a.fetch().then(function(){e.models=e.fonts,e.forceUpdate()})},1e3))}},{key:"shouldComponentStoreState",value:function(){return!0}},{key:"shouldComponentUpdate",value:function(e,t,a){return!g.a.isEqual(this.theme,a.theme)||!g.a.isEqual(this.state,t)}},{key:"componentWillMount",value:function(){this.setState({reverse:!1,sort:"trending",subset:"latin",category:"",keyword:""})}},{key:"componentDidMount",value:function(){this.speedUpFirstInit(),this.fetchFonts()}},{key:"handleHide",value:function(){var e=this.get("app.page.fonts");this.stopListening(U.a),e&&this.stopListening(e)}},{key:"handleShow",value:function(){var e=this.get("app.page.fonts");e&&(this.allFonts=U.a,this.listenTo(U.a,"update reset sort",function(){e.each(function(e){var t=U.a.get(e.id);t&&t.set({selected:!0})})}),this.listenTo(e,"add",function(e){var t=U.a.get(e.id);t&&t.set({selected:!0})}),this.listenTo(e,"remove",function(e){var t=U.a.get(e.id);t&&t.set({selected:!1})}))}},{key:"close",value:function(){this.__panel.hide()}},{key:"speedUpFirstInit",value:function(){this.__panel.show(),this.__panel.hide()}},{key:"componentDidUpdate",value:function(e,t){t.sort===this.state.sort&&t.category===this.state.category&&t.subset===this.state.subset&&t.reverse===this.state.reverse&&t.keyword===this.state.keyword||(this.set("__panel.list.contentEl.scrollTop",0),this.invoke("__panel.list.updateScrollBar"))}},{key:"handleScroll",value:function(e){if(this.state.preview)for(var t=this.itemHeight||0,a=Math.floor(e.scrollTop/t),n=a+Math.ceil(e.offsetHeight/t),l=a;l<=n;l++)this.models[l]&&this.models[l].loadPreview()}},{key:"render",value:function(){var e=this;this.get("app.page.fonts");return this.models=this.fonts,this.state.reverse&&this.models.reverse(),E.a.createElement(S.default,{width:800,height:420,within:this.app.el,centered:!0,overlay:!0,overlayCSS:"\n\t\t\t\t\tbackground: rgba(0,0,0,0.5);\n\t\t\t\t",onClickOutside:this.close,onShow:this.handleShow,onHide:this.handleHide,title:"Google Fonts Manager"},E.a.createElement(w.default,null,E.a.createElement(_.default,{cid:"settings",flex:"1 1 30%"},E.a.createElement(x.default,{target:this,style:{padding:"10px 0"}},E.a.createElement(F.default,{label:"Search"},E.a.createElement(M.default,{type:"search",bind:"state.keyword"})),E.a.createElement(F.default,{label:"Sort by"},E.a.createElement(P.default,null,E.a.createElement(L.default,{flex:"2",bind:"state.sort",options:{Trending:"trending",Popularity:"popularity",Alphabetical:"family","Date Added":"dateAdded"}}),E.a.createElement(L.default,{flex:"1",bind:"state.reverse",options:{ASC:!1,DESC:!0}}))),E.a.createElement(F.default,{label:"Categories"},E.a.createElement(L.default,{bind:"state.category",options:I})),E.a.createElement(F.default,{label:"Languages"},E.a.createElement(L.default,{bind:"state.subset",options:D})),E.a.createElement(F.default,{label:"Preview Fonts",horizontal:!0},E.a.createElement(H.default,{bind:"state.preview"})))),E.a.createElement(_.default,{scrollbar:!0,onStart:this.handleScrollStart,onStop:this.handleScroll,flex:"1 1 40%",cid:"items",style:{borderLeft:"1px solid #c4cdd5",borderRight:"1px solid #c4cdd5"},header:"All Fonts",headingCSS:{background:"#f5f5f5",color:"black"}},E.a.createElement(C.default,{selectable:!0,collection:this.models},function(t){return E.a.createElement(C.default.Item,{alternate:!0,key:t.get("family"),innerRef:function(t){return e.itemHeight=t?t.offsetHeight:0}},E.a.createElement("figure",null,E.a.createElement("i",{className:"icon font"})),E.a.createElement("div",{style:{fontFamily:e.state.preview?'"'+t.get("family")+'", Arial':void 0}},t.get("family")),E.a.createElement("aside",null,E.a.createElement(T.default,{target:t,bind:"selected",onChange:function(a){a?e.invoke("app.page.fonts.add",t):e.invoke("app.page.fonts.remove",t)}})))})),E.a.createElement(_.default,{flex:"1 1 30%",headingCSS:{background:"#f5f5f5",color:"black"},header:"Favorites Fonts"},this.app.page?E.a.createElement(C.default,{selectable:!0,sortable:!0,collection:this.get("app.page.fonts")},function(t){return E.a.createElement(C.default.Item,{alternate:!0,key:t.get("family")},E.a.createElement("figure",null,E.a.createElement("i",{className:"icon font"})),E.a.createElement("div",{style:{fontFamily:e.state.preview?'"'+t.get("family")+'", Arial':void 0}},t.get("family")),E.a.createElement("aside",null,E.a.createElement(A.default,{icon:"circle remove",plain:!0,compact:!0,onClick:function(){e.invoke("app.page.fonts.remove",t)}})))}):null)))}},{key:"fonts",get:function(){var e=this,t=new RegExp(this.state.keyword||"^$","ig");return U.a.sortBy(this.state.sort||"defaultSort").filter(function(a){var n=void 0,l=void 0,i=void 0;return n=!e.state.subset||a.get("subsets").includes(e.state.subset),l=!e.state.category||a.get("category")===e.state.category,i=!e.state.keyword||t.test(a.get("family")),n&&l&&i})}}]),t}(k.default),n.APP_POS="widget",l)}});